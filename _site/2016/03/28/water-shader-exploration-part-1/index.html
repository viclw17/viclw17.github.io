<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Water Shader Exploration Part-1 &#8211; 1000 forms of bunnies</title>
<meta name="description" content="Water Shader Exploration Part-1">
<meta name="keywords" content="Unity Shader">


<!-- Twitter Cards -->
<!-- original

  
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="http://viclw17.github.io/images/water.jpg">
  
<meta name="twitter:title" content="Water Shader Exploration Part-1">
<meta name="twitter:description" content="Water Shader Exploration Part-1">
<meta name="twitter:creator" content="@viclw17">

-->


<!-- Twitter Cards
clean and functional code
-->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://viclw17.github.io/images/water.jpg">
<meta name="twitter:title" content="Water Shader Exploration Part-1">
<meta name="twitter:description" content="Water Shader Exploration Part-1">
<meta name="twitter:creator" content="@viclw17">


<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Water Shader Exploration Part-1">
<meta property="og:description" content="Water Shader Exploration Part-1">
<meta property="og:url" content="http://viclw17.github.io/2016/03/28/water-shader-exploration-part-1/">
<meta property="og:site_name" content="1000 forms of bunnies">





<link rel="canonical" href="http://viclw17.github.io/2016/03/28/water-shader-exploration-part-1/">
<link href="http://viclw17.github.io/feed.xml" type="application/atom+xml" rel="alternate" title="1000 forms of bunnies Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="http://viclw17.github.io/assets/css/main.css">
<!-- Webfonts -->
<link href="//fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic" rel="stylesheet" type="text/css">

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="http://viclw17.github.io/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="http://viclw17.github.io/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="http://viclw17.github.io/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="http://viclw17.github.io/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://viclw17.github.io/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://viclw17.github.io/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://viclw17.github.io/images/apple-touch-icon-144x144-precomposed.png">




<style type="text/css">body {background-image:url(http://viclw17.github.io/images/shattered.png);}</style>


</head>

<body id="post" class="feature">

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->
<nav id="dl-menu" class="dl-menuwrapper" role="navigation">
	<button class="dl-trigger">Open Menu</button>
	<ul class="dl-menu">
		<li><a href="http://viclw17.github.io/">Home</a></li>
		<li>
			<a href="#">About</a>
			<ul class="dl-submenu">
				<li>
					<img src="http://viclw17.github.io/images/avatar.jpg" alt="Victor Li photo" class="author-photo">
					<h4>Victor Li</h4>
					<!-- BR!!!-->
					<p>Technical Artist,<br /> CG Engineer,<br /> Mr. Curiosity.</p>
				</li>
				<li><a href="http://viclw17.github.io/about/"><span class="btn btn-inverse">Learn More</span></a></li>
				<li>
					<a href="mailto:viclw17@gmail.com"><i class="fa fa-fw fa-envelope"></i> Email</a>
				</li>
				<li>
					<a href="https://twitter.com/viclw17"><i class="fa fa-fw fa-twitter"></i> Twitter</a>
				</li>
				
				
				<li>
					<a href="https://github.com/viclw17"><i class="fa fa-fw fa-github"></i> GitHub</a>
				</li>
				<li>
					<a href="https://ca.linkedin.com/in/viclw17"><i class="fa fa-fw fa-linkedin"></i> LinkedIn</a>
<!--
					<a href="https://linkedin.com/in/https://ca.linkedin.com/in/viclw17"><i class="fa fa-fw fa-linkedin"></i> LinkedIn</a>
-->
				</li>

				
				
				
				
			</ul><!-- /.dl-submenu -->
		</li>

<li><a href="http://viclw17.github.io/posts/">All Posts</a></li>
<li><a href="http://viclw17.github.io/tags/">All Tags</a></li>

<!--
		<li>
			<a href="#">Posts</a>
			<ul class="dl-submenu">
				<li><a href="http://viclw17.github.io/posts/">All Posts</a></li>
				<li><a href="http://viclw17.github.io/tags/">All Tags</a></li>
			</ul>
		</li>
-->

		
	    
	    <li><a href="http://iamvictorli.com" target="_blank">Portfolio</a></li>
	  
	</ul><!-- /.dl-menu -->
</nav><!-- /.dl-menuwrapper -->



<div class="entry-header">
  <!-- /.image-credit -->
<!--
  
-->
  <div class="entry-image">
    <img src="http://viclw17.github.io/images/water.jpg" alt="Water Shader Exploration Part-1">
  </div><!-- /.entry-image -->
</div><!-- /.entry-header -->


<div id="main" role="main">
  <article class="hentry">
    <header class="header-title">
      <div class="header-title-wrap">
        
          <h1 class="entry-title"><a href="http://viclw17.github.io/2016/03/28/water-shader-exploration-part-1/" rel="bookmark" title="Water Shader Exploration Part-1">Water Shader Exploration Part-1</a></h1>
        
        <h2><span class="entry-date date published"><time datetime="2016-03-28T00:00:00-07:00">March 28, 2016</time></span></h2>
        
      </div><!-- /.header-title-wrap -->
    </header>
    <div class="entry-content">
      <h2 id="intro">Intro</h2>

<p>First try of water effect in Unity.</p>

<p>One of my current VR projects needs a nice and light water shader. I have been working on it for a while and keep iterating the the overall effect. Here is the water effect I have achieved so far, however it’s still far away from perfect simulation:</p>

<p><img src="http://viclw17.github.io/images/water0.gif" width="400" height="400" style="display:block; margin:auto;" /></p>
<figcaption style="text-align: center;">Final work w/o transparency.</figcaption>

<p>Water effect has been always a complicated topic in shading especially for runtime scenario. As the most usual material in our daily life, water has lots of visual features that we are very familiar with. However, all these features also got lots of physics and lighting formulas involved which are interacting with each other.</p>

<p>I started with thinking about the most typical physical and lighting features that came into mind and got my hand dirty immediately to achieve as much as I can. Here is my <strong>checklist</strong>:</p>

<ul>
  <li>Blue-ish color.</li>
  <li>Waving surface.
    <ul>
      <li>Using script to deform a plane mesh, <strong>OR</strong></li>
      <li>Manipulating vertex in vertex shader.</li>
    </ul>
  </li>
  <li>Ripple.
    <ul>
      <li>Texture &amp; Normal Map</li>
      <li>UV Scrolling</li>
    </ul>
  </li>
  <li>Reflection.
    <ul>
      <li>Specular lighting model</li>
      <li>Cubemap</li>
    </ul>
  </li>
  <li>Transparency.</li>
  <li>Refraction. (no idea…)</li>
</ul>

<p>I firstly wrote a script to move the vertex of a plane mesh according to sine wave, and added <a href="http://docs.unity3d.com/ScriptReference/Mathf.PerlinNoise.html">Perlin Noise</a> function to add some randomness. Then I started to write my water shader to turn this waving plane into a water like surface with all the interesting lighting attributes that I can think about. In Part-2 I will go through my exploration in details.</p>

<!-- <img src="http://viclw17.github.io/images/water1.gif" width="400" height="400" style="display:block; margin:auto;">
<figcaption style="text-align: center;">Final work w/o transparency.</figcaption> -->

<p><img src="http://viclw17.github.io/images/water2.gif" width="400" height="400" style="display:block; margin:auto;" /></p>
<figcaption style="text-align: center;">Final work w/ transparency and faint tint and BUNNY!</figcaption>

<p>The current water effect is enough for the scope of my project and it’s light to implement and has decent visual features. However, this is just a very very high-level implement using Unity and for simple environment. Also, there are a lot of features that are very important in water, like refraction, that I haven’t implemented. I will keep working on my exploration on this topic in the future.</p>

<p>P.S. My ultimate goal about water simulation could be <strong>Low-Level GPU-Based Volumetric Fluid Simulation</strong>. Hopefully I’m able to give a shot one day. Video here just for admiring and future reference. :)</p>

<iframe src="https://player.vimeo.com/video/87050516?autoplay=1&amp;loop=1&amp;title=0&amp;byline=0&amp;portrait=0" width="500" height="281" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen=""></iframe>
<p><a href="https://vimeo.com/87050516">PIC/FLIP Simulator Dam Break Test- Final Render</a> from <a href="https://vimeo.com/user3522674">Yining Karl Li</a> on <a href="https://vimeo.com">Vimeo</a>.</p>

<p>(TBC)</p>

      <footer class="entry-meta">
        <span class="entry-tags"><a href="http://viclw17.github.io/tags/#Unity Shader" title="Pages tagged Unity Shader" class="tag"><span class="term">Unity Shader</span></a></span>
        <span>Updated on <span class="entry-date date updated"><time datetime="2016-03-28">March 28, 2016</time></span></span>
        <span class="author vcard"><span class="fn">Victor Li</span></span>
        <div class="social-share">
  <ul class="socialcount socialcount-small inline-list">
    <li class="facebook"><a href="https://www.facebook.com/sharer/sharer.php?u=http://viclw17.github.io/2016/03/28/water-shader-exploration-part-1/" title="Share on Facebook"><span class="count"><i class="fa fa-facebook-square"></i> Like</span></a></li>
    <li class="twitter"><a href="https://twitter.com/intent/tweet?text=http://viclw17.github.io/2016/03/28/water-shader-exploration-part-1/" title="Share on Twitter"><span class="count"><i class="fa fa-twitter-square"></i> Tweet</span></a></li>
    <li class="googleplus"><a href="https://plus.google.com/share?url=http://viclw17.github.io/2016/03/28/water-shader-exploration-part-1/" title="Share on Google Plus"><span class="count"><i class="fa fa-google-plus-square"></i> +1</span></a></li>
  </ul>
</div><!-- /.social-share -->
      </footer>
    </div><!-- /.entry-content -->
    <section id="disqus_thread"></section><!-- /#disqus_thread -->
    <div class="read-more">
  
    <div class="read-more-header">
      <a href="http://viclw17.github.io/2016/03/26/first-post/" class="read-more-btn">Read More</a>
    </div><!-- /.read-more-header -->
    <div class="read-more-content">
      <h3><a href="http://viclw17.github.io/2016/04/19/phong-shading-model-walkthrough/" title="Phong Shading Model Walkthrough">Phong Shading Model Walkthrough</a></h3>
      <p>Achieve a classic phong shading in Unity. <a href="http://viclw17.github.io/2016/04/19/phong-shading-model-walkthrough/">Continue reading</a></p>
    </div><!-- /.read-more-content -->
  
  <div class="read-more-list">
    
      <div class="list-item">
        <h4><a href="http://viclw17.github.io/2016/04/10/specular-shading-optimization/" title="Specular Shading Optimization">Specular Shading Optimization</a></h4>
        <span>Published on April 10, 2016</span>
      </div><!-- /.list-item -->
    
      <div class="list-item">
        <h4><a href="http://viclw17.github.io/2016/03/29/low-poly-water/" title="Low Poly Water">Low Poly Water</a></h4>
        <span>Published on March 29, 2016</span>
      </div><!-- /.list-item -->
    
  </div><!-- /.read-more-list -->
</div><!-- /.read-more -->
  </article>
</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo">
    <span>&copy; 2016 Victor Li.

  Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll.</a>
  <!-- Theme  <a href="https://github.com/mmistakes/hpstr-jekyll-theme">available on Github.</a> -->
</span>

  </footer>
</div><!-- /.footer-wrapper -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://viclw17.github.io/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="http://viclw17.github.io/assets/js/scripts.min.js"></script>


<!-- Asynchronous Google Analytics snippet -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-75504070-1', 'auto');  
  ga('require', 'linkid', 'linkid.js');
  ga('send', 'pageview');
</script>



    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'viclw17'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script'); s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


</body>
</html>
